"use strict";(self["webpackChunkhmtt83"]=self["webpackChunkhmtt83"]||[]).push([[535],{3535:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{"left-arrow":"",title:"搜索中心"},on:{"click-left":function(e){return t.$router.back()}}}),n("van-search",{attrs:{"show-action":"",shape:"round",placeholder:"请输入搜索关键词"},on:{search:t.onSearch,input:t.onInput},scopedSlots:t._u([{key:"action",fn:function(){return[n("div",{on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),""==t.key?n("van-cell-group",[n("van-cell",{attrs:{title:"历史记录"}}),t._l(t.historyList,(function(t){return n("van-cell",{key:t,attrs:{title:t}})}))],2):n("van-cell-group",t._l(t.colorList,(function(e,r){return n("van-cell",{key:r,attrs:{icon:"search"}},[n("div",{domProps:{innerHTML:t._s(e)}})])})),1)],1)},i=[],o=n(7906),s=n(6198),a=(n(6699),n(2023),n(8862),n(1249),n(4916),n(5306),n(8757),n(7214)),c={data:function(){return{key:"",suggestList:[],historyList:JSON.parse(window.localStorage.getItem("history"))||[]}},methods:{onInput:function(){var t=this;return(0,s.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.key){e.next=5;break}return e.next=3,(0,a.g1)({q:t.key});case 3:n=e.sent,n.data.data.options[0]?t.suggestList=n.data.data.options:t.suggestList=[];case 5:case"end":return e.stop()}}),e)})))()},onSearch:function(){if(""==this.key)return this.$toast("请输入点内容");this.historyList.includes(this.key)||(this.historyList.unshift(this.key),window.localStorage.setItem("history",JSON.stringify(this.historyList))),this.$router.push({name:"result",query:{key:this.key}})}},computed:{colorList:function(){var t=this;return this.suggestList.map((function(e){return e.replaceAll(t.key,'<span style="color:red">'.concat(t.key,"</span>"))}))}}},u=c,l=n(1001),h=(0,l.Z)(u,r,i,!1,null,null,null),f=h.exports},6699:function(t,e,n){var r=n(2109),i=n(1318).includes,o=n(7293),s=n(1223),a=o((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:a},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},2023:function(t,e,n){var r=n(2109),i=n(1702),o=n(3929),s=n(4488),a=n(1340),c=n(4964),u=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~u(a(s(this)),a(o(t)),arguments.length>1?arguments[1]:void 0)}})},8757:function(t,e,n){var r=n(2109),i=n(7854),o=n(6916),s=n(1702),a=n(4488),c=n(614),u=n(7850),l=n(1340),h=n(8173),f=n(4706),d=n(647),p=n(5112),y=n(1913),g=p("replace"),k=i.TypeError,v=s("".indexOf),w=s("".replace),m=s("".slice),L=Math.max,x=function(t,e,n){return n>t.length?-1:""===e?n:v(t,e,n)};r({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,i,s,p,S,b,_,A,I=a(this),O=0,Z=0,$="";if(null!=t){if(n=u(t),n&&(r=l(a(f(t))),!~v(r,"g")))throw k("`.replaceAll` does not allow non-global regexes");if(i=h(t,g),i)return o(i,t,I,e);if(y&&n)return w(l(I),t,e)}s=l(I),p=l(t),S=c(e),S||(e=l(e)),b=p.length,_=L(1,b),O=x(s,p,0);while(-1!==O)A=S?l(e(p,O,s)):d(p,s,O,[],void 0,e),$+=m(s,Z,O)+A,Z=O+b,O=x(s,p,O+_);return Z<s.length&&($+=m(s,Z)),$}})}}]);