(self["webpackChunkhmtt83"]=self["webpackChunkhmtt83"]||[]).push([[535],{3535:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{"left-arrow":"",title:"搜索中心"},on:{"click-left":function(e){return t.$router.back()}}}),n("van-search",{attrs:{"show-action":"",shape:"round",placeholder:"请输入搜索关键词"},on:{search:t.onSearch,input:t.onInput},scopedSlots:t._u([{key:"action",fn:function(){return[n("div",{on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),""==t.key?n("van-cell-group",[n("van-cell",{attrs:{title:"历史记录"}}),t._l(t.historyList,(function(t){return n("van-cell",{key:t,attrs:{title:t}})}))],2):n("van-cell-group",t._l(t.colorList,(function(e,r){return n("van-cell",{key:r,attrs:{icon:"search"}},[n("div",{domProps:{innerHTML:t._s(e)}})])})),1)],1)},i=[],o=(n(6699),n(7214)),s={data(){return{key:"",suggestList:[],historyList:JSON.parse(window.localStorage.getItem("history"))||[]}},methods:{async onInput(){if(this.key){let t=await(0,o.g1)({q:this.key});t.data.data.options[0]?this.suggestList=t.data.data.options:this.suggestList=[]}},onSearch(){if(""==this.key)return this.$toast("请输入点内容");this.historyList.includes(this.key)||(this.historyList.unshift(this.key),window.localStorage.setItem("history",JSON.stringify(this.historyList))),this.$router.push({name:"result",query:{key:this.key}})}},computed:{colorList(){return this.suggestList.map((t=>t.replaceAll(this.key,`<span style="color:red">${this.key}</span>`)))}}},c=s,u=n(1001),a=(0,u.Z)(c,r,i,!1,null,null,null),l=a.exports},1223:function(t,e,n){var r=n(5112),i=n(30),o=n(3070),s=r("unscopables"),c=Array.prototype;void 0==c[s]&&o.f(c,s,{configurable:!0,value:i(null)}),t.exports=function(t){c[s][t]=!0}},30:function(t,e,n){var r,i=n(9670),o=n(6048),s=n(748),c=n(3501),u=n(490),a=n(317),l=n(6200),h=">",f="<",d="prototype",p="script",y=l("IE_PROTO"),v=function(){},k=function(t){return f+p+h+t+f+"/"+p+h},g=function(t){t.write(k("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){var t,e=a("iframe"),n="java"+p+":";return e.style.display="none",u.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(k("document.F=Object")),t.close(),t.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}w="undefined"!=typeof document?document.domain&&r?g(r):m():g(r);var t=s.length;while(t--)delete w[d][s[t]];return w()};c[y]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(v[d]=i(t),n=new v,v[d]=null,n[y]=t):n=w(),void 0===e?n:o.f(n,e)}},6048:function(t,e,n){var r=n(9781),i=n(3353),o=n(3070),s=n(9670),c=n(5656),u=n(1956);e.f=r&&!i?Object.defineProperties:function(t,e){s(t);var n,r=c(e),i=u(e),a=i.length,l=0;while(a>l)o.f(t,n=i[l++],r[n]);return t}},1956:function(t,e,n){var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},6699:function(t,e,n){"use strict";var r=n(2109),i=n(1318).includes,o=n(7293),s=n(1223),c=o((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:c},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")}}]);